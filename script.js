/*jshint esversion: 6 */
const colors = ['#FFC261', '#71E878', '#5460FF', '#E87B69'];
const track = [0, 3, 1, 2, 0];

/* Set colors on initial load */
for (let i = 0; i < 4; i++) {
  document.getElementById(`pad${i}`).style.backgroundColor = colors[i];
  document.getElementById(`pad${i}`).addEventListener('click', playSound);
}

/* Play sound when user clicks  */
function playSound() {
  const origin = 'https://s3.amazonaws.com/freecodecamp/';
  const audio = new Audio(`${origin}simonSound${Number(this.id[3]) + 1}.mp3`);
  audio.play();
}

/* Play sound generated by the algo */
function playSong(arr) {
  const origin = 'https://s3.amazonaws.com/freecodecamp/';
  const run = setInterval(play, 700);
  let id = 0;

  function play() {
    if (id === arr.length) {
      clearInterval(run);
    } else {
      const audio = new Audio(`${origin}simonSound${arr[id] + 1}.mp3`);
      audio.play();
      id++;
    }
  }
}

playSong(track);
